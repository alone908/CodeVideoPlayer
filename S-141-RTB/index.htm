<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Language" content="en-us">
  <meta name="title" content="Video Now!">

  <meta name="viewport" content="user-scalable=yes, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>

  <title>Inspired eLearning</title>

  <script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/jquery.timer.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/jquery.timer2.js" type="text/javascript" charset="utf-8"></script>

  <script src="js/jsencryption.js"></script>

  <link href="index.css" rel="stylesheet" type="text/css">

  <script type="text/javascript">
    /*
     * IEngine4
     * IEngine4 Video Engine
     *
     * Copyright (c) Inspired eLearning Inc. 2003-2014.  All Rights Reserved.
     * This source file is proprietary property of Inspired eLearning Inc.
     * http://http://www.inspiredelearning.com/inspired/License
     *
     * @version 5.0.20
     */


    //------------------------------------------------------------------------------------------------------------------
    function getParameterByName(name) {
      name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
      var regexS = "[\\?&]" + name + "=([^&#]*)";
      var regex = new RegExp(regexS, 'i');
      var results = regex.exec(window.location.search);
      if (results == null)
        return "";
      else
        return decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    //------------------------------------------------------------------------------------------------------------------
    var SettingsXML;

    var DialogIsVisible = false;


    var AutoStartLanguageFolder = "en"; //leave blank for language select menu

    var admin_SkinCSS = "";

    var admin_CopyrightInfo = "";
    var admin_Version = "";

    var admin_LaunchIntroFile_Path = "";
    var admin_LaunchIntroFile_Yes = "no";
    var admin_LaunchIntroFile_DefaultMode = "video";

    var admin_URLOnExit = "";

    var admin_AutoForwardDefaultSetting = true;
    var admin_AutoForwardEnabled = true;

    var admin_DisableVolume = false;

    var admin_BottomLogo = "";
    var admin_TopLogo = "";

    var admin_HelpFile = "";
    var admin_GlossaryFile = "";
    var admin_CourseFile = "";

    var admin_RetakeFinalExam = "";
    var admin_Submit = "";
    var admin_Finish = "";
    var admin_Help = "";
    var admin_Glossary = "";
    var admin_SaveAndExit = "";
    var admin_Review = "";

    var admin_Volume = "";
    var admin_Mute = "";
    var admin_UnMute = "";

    var admin_Mode = "";

    var admin_AutoForwardText = "";
    var admin_NoAutoForwardText = "";

    var admin_Replay = "";

    var admin_Prev = "";

    var admin_Pause = "";
    var admin_Play = "";

    var admin_Next = "";

    var admin_Progress = "";
    var admin_ProgressWidth = 775;

    var admin_MinTimeWaitAlert = "";
    var admin_DropDownAlert = "";

    var admin_LicenseURL = "";
    var KeyCode = "";

    var aDate = new Date();
    xcode = $.timerY(aDate.getFullYear() + "." + aDate.getUTCMonth() + "." + aDate.getDate(), 'IEngine');
    var XCode = xcode.substring(0, 3) + xcode.substr(xcode.length - 1, 1);

    xcode2 = $.timerY(aDate.getFullYear() + "." + aDate.getUTCMonth() + "." + (aDate.getDate() - 1), 'IEngine');
    var XCode2 = xcode2.substring(0, 3) + xcode2.substr(xcode2.length - 1, 1);

    xcode3 = $.timerY(aDate.getFullYear() + "." + aDate.getUTCMonth() + "." + (aDate.getDate() + 1), 'IEngine');
    var XCode3 = xcode3.substring(0, 3) + xcode3.substr(xcode3.length - 1, 1);

    var languagelist = {
      'ar': {'text': 'Arabic', show: 'no'},
      'zh-CN': {'text': 'Chinese Simplified', show: 'no'},
      'zh-HK': {'text': 'Chinese Traditional Hong Kong', show: 'no'},
      'zh-TW': {'text': 'Chinese Traditional Taiwan', show: 'no'},
      'hr': {'text': 'Croatian', show: 'no'},
      'cz': {'text': 'Czech', show: 'no'},
      'da': {'text': 'Danish', show: 'no'},
      'nl': {'text': 'Dutch', show: 'no'},
      'nl-BE': {'text': 'Dutch Belgium', show: 'no'},
      'en': {'text': 'English', show: 'no'},
      'en-CA': {'text': 'English Canada', show: 'no'},
      'en-GB': {'text': 'English UK', show: 'no'},
      'et': {'text': 'Estonian', show: 'no'},
      'fa': {'text': 'Farsi', show: 'no'},
      'fi': {'text': 'Finnish', show: 'no'},
      'fr': {'text': 'French EU', show: 'no'},
      'fr-CA': {'text': 'French Canada', show: 'no'},
      'de': {'text': 'German', show: 'no'},
      'el': {'text': 'Greek', show: 'no'},
      'he': {'text': 'Hebrew', show: 'no'},
      'hi': {'text': 'Hindi', show: 'no'},
      'hu': {'text': 'Hungarian', show: 'no'},
      'in': {'text': 'Indonesian', show: 'no'},
      'it': {'text': 'Italian', show: 'no'},
      'ja': {'text': 'Japanese', show: 'no'},
      'ko': {'text': 'Korean', show: 'no'},
      'lv': {'text': 'Latvian', show: 'no'},
      'lt': {'text': 'Lithuanian', show: 'no'},
      'ms': {'text': 'Malay Bahasa Malay', show: 'no'},
      'multi': {'text': 'Multilingual Pack', show: 'no'},
      'no': {'text': 'Norwegian', show: 'no'},
      'pl': {'text': 'Polish', show: 'no'},
      'pt': {'text': 'Portuguese EU', show: 'no'},
      'pt-BR': {'text': 'Portuguese LA', show: 'no'},
      'ro': {'text': 'Romanian', show: 'no'},
      'ru': {'text': 'Russian', show: 'no'},
      'sr': {'text': 'Serbian', show: 'no'},
      'sk': {'text': 'Slovak', show: 'no'},
      'sl': {'text': 'Slovenian', show: 'no'},
      'es': {'text': 'Spanish EU', show: 'no'},
      'es-LA': {'text': 'Spanish LA', show: 'no'},
      'sv': {'text': 'Swedish', show: 'no'},
      'tl': {'text': 'Tagalog', show: 'no'},
      'th': {'text': 'Thai', show: 'no'},
      'tr': {'text': 'Turkish', show: 'no'},
      'ur': {'text': 'Urdu', show: 'no'},
      'vi': {'text': 'Vietnamese', show: 'no'}
    };
    var languagesFound = 0;
    var langFound = "";

    //------------------------------------------------------------------------------------------------------------------
    function parseSettingsXml(xml) {
      admin_LaunchIntroFile_Path = $(xml).find("Launch").attr("IntroFilePath");
      admin_LaunchIntroFile_DefaultMode = $(xml).find("Launch").attr("DefaultCourseMode").toLowerCase();
      admin_LaunchIntroFile_Yes = $(xml).find("Launch").attr("LaunchIntroFile").toLowerCase() === 'true';

      admin_LicenseURL = $(xml).find("LicenseURL").text();

      //Read licensing param
      var admin_BrandingQS = "";
      admin_Branding = getParameterByName('ReqData');

      admin_Branding_URL = getParameterByName('ApiPath');
      if (admin_Branding_URL == "") {
        admin_Branding_URL = "https://api.inspiredlms.com";
      }
      if (admin_Branding != "") {
        admin_BrandingQS = "?ReqData=" + admin_Branding + "&ApiPath=" + admin_Branding_URL;
      }


      //validate usage date
      if ((KeyCode.indexOf(XCode) == -1) && (KeyCode.indexOf(XCode2) == -1) && (KeyCode.indexOf(XCode3) == -1)) {
        if (DialogIsVisible) {
          window.location.href = admin_LicenseURL;
          return false;
        }
      }

      if (navigator.userAgent.indexOf('iPhone') !== -1 || navigator.userAgent.indexOf('Android') !== -1) {
        window.location.href = "index-mobile.htm" + admin_BrandingQS;
        return false;
      }

      if (admin_LaunchIntroFile_Yes) {
        window.location.href = admin_LaunchIntroFile_Path + admin_BrandingQS;
      }
      else {
        if (admin_LaunchIntroFile_DefaultMode == "fast") {
          window.location.href = "index-fast.htm" + admin_BrandingQS;
        }
        else if (admin_LaunchIntroFile_DefaultMode == "text") {
          window.location.href = "index-text.htm" + admin_BrandingQS;
        }
        else {
          window.location.href = "index-video.htm" + admin_BrandingQS;
        }
      }
    }

    //------------------------------------------------------------------------------------------------------------------
    function SaveSettingsXML(xml) {
      SettingsXML = xml;
      parseSettingsXml(SettingsXML);
    }

    //------------------------------------------------------------------------------------------------------------------
    function LoadSettingsXML() {
      CourseLanguage = getParameterByName("lang");
      if (CourseLanguage == "") {
        CourseLanguage = "en";
      }

      if (AutoStartLanguageFolder != "") //auto start without language selection menu
      {
        $("#Loading").hide();
        $.ajax({
          type: "GET",
          url: "xmls/" + AutoStartLanguageFolder + "/adminsettings.xml?time=" + Math.round(+new Date() / 1000),
          dataType: "xml",
          success: SaveSettingsXML
        });

      }
      else {
        //	$("#Loading").show();

        for (var key in languagelist) {
          var obj = languagelist[key];
          $.ajax({
            url: 'xmls/' + key + '/adminsettings.xml?time=' + Math.round(+new Date() / 1000),
            type: 'get',
            dataType: "xml",
            async: false,
            error: function () { },
            success: function (xml) {
              var testdata = $(xml).find("UseScorm").text();
              if ((testdata == "true") || (testdata == "false")) {
                languagelist[key].show = 'yes';
                languagesFound++;
                langFound = key;
              }
            }
          });
        }

        $("#Loading").hide();

        //if only one language detected
        if (languagesFound == 1) {
          $.ajax({
            type: "GET",
            url: "xmls/" + langFound + "/adminsettings.xml?time=" + Math.round(+new Date() / 1000),
            dataType: "xml",
            success: SaveSettingsXML
          });
        }
        else {
          for (var key in languagelist) {
            if (languagelist[key].show == "yes") {
              $("#langdropdown").append('<li><a href="#" data-lang="' + key + '" class="langlink">' + languagelist[key].text + '</a></li>');
            }
          }

          $(".langlink").on('click', function () {
            $("#langselect").html($(this).data("lang") + "...");
            $('.lang-dropdown').removeClass('active');

            $.ajax({
              type: "GET",
              url: "xmls/" + $(this).data("lang") + "/adminsettings.xml?time=" + Math.round(+new Date() / 1000),
              dataType: "xml",
              success: SaveSettingsXML
            });

            return false;
          });
        }
      }
    }

    //------------------------------------------------------------------------------------------------------------------
    function parseVersionXml(xml) {
      admin_Version = $(xml).find("Version").text();
      xke = $(xml).find("VersionText").text();

      KeyCode = $(xml).find("KeyCode").text();
      LoadSettingsXML(); //load settings.xml after version and key from data.xml is loaded
    }

    //------------------------------------------------------------------------------------------------------------------
    function SaveVersionXML(xml) {
      VersionXML = xml;
      parseVersionXml(VersionXML);
    }

    //------------------------------------------------------------------------------------------------------------------
    function LoadVersionXML() {
      $.ajax({
        type: "GET",
        url: "js/data.xml?q=500&time=" + Math.round(+new Date() / 1000),
        dataType: "xml",
        success: SaveVersionXML
      });
    }

    function DropDown(el) {
      this.dd = el;
      this.initEvents();
    }

    DropDown.prototype = {
      initEvents: function () {
        var obj = this;

        obj.dd.on('click', function (event) {
          $(this).toggleClass('active');
          event.stopPropagation();
        });
      }
    }


    //------------------------------------------------------------------------------------------------------------------
    $(document).ready(function () {

      var dd = new DropDown($('#dd'));

      $(document).click(function () {
        // all dropdowns
        $('.lang-dropdown').removeClass('active');
      });

      if (AutoStartLanguageFolder != "") //auto start without language selection menu
      {
        LoadVersionXML(); //no delay needed
      }
      else {
        $('.container1').show();
        $('#Loading').show();
        setTimeout(function () { LoadVersionXML(); }, 1000); //delay loading so animation can start
      }


    });

  </script>
</head>

<body>
<div ID="Loading" style="display: none"></div>

<div class="container1" style="display: none">
  <img src="languages-small.jpg" style=" text-align:center; width:240px; border-radius: 5px; box-shadow: 0px 0px 10px rgba(0,0,0,0.5);"/>
  <br/>

  <div class="lang-select">
    <div id="dd" class="lang-dropdown" tabindex="1"><span id="langselect">language/语/idioma/sprache</span>
      <ul class="dropdown" id="langdropdown">
      </ul>
    </div>
    ​
  </div>

</div>


</body>
